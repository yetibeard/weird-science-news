---
import BaseLayout from "./BaseLayout.astro";
import ShareButtons from "../components/ShareButtons.astro";
import NewsletterSignup from "../components/NewsletterSignup.astro";

export interface Props {
  title: string;
  date: string;
  summary: string;
  tags: string[];
}
const { title, date, summary, tags } = Astro.props;
---

<BaseLayout title={title} description={summary}>
  <article class="max-w-2xl mx-auto">
    <a href="/" class="text-blue-600 dark:text-blue-400 hover:underline block mb-4">&larr; Back</a>
    <h1 class="text-4xl font-bold mb-2 text-gray-900 dark:text-gray-100">{title}</h1>
    <p class="text-sm text-gray-500 dark:text-gray-400">{new Date(date).toLocaleDateString()}</p>
    <p class="italic my-4">{summary}</p>
    <div class="mt-4 flex flex-wrap gap-2 mb-8">
      {tags.map(tag => (
        <a
          href={`/tags/${tag}`}
          class="px-2 py-1 bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 rounded-full text-sm hover:bg-blue-200 dark:hover:bg-blue-800 transition-colors"
        >
          {tag}
        </a>
      ))}
    </div>
    <slot />
    <ShareButtons title={title} url={Astro.url.href} />
    <NewsletterSignup />
  </article>
</BaseLayout>